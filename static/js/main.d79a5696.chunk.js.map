{"version":3,"sources":["components/Errors/Errors.js","components/Assertion/Assertion.js","components/Editor/Editor.js","utils/testRunner.js","components/Pending/Pending.js","components/Environment/Environment.js","docs/Array.js","App.js","index.js","../node_modules/mocha/lib sync"],"names":["Errors","errors","className","dangerouslySetInnerHTML","__html","Assertion","props","body","state","Editor","onChange","bind","onKeyDown","html","source","this","ref","innerHTML","decode","replace","e","keyCode","document","execCommand","preventDefault","code","initialSource","highlight","languages","javascript","node","contentEditable","onInput","Component","CONSTANTS","Runner","constants","REQUIRES","expect","queue","PQueue","concurrency","testRunner","Promise","resolve","mocha","suite","suites","setup","ui","reporter","runner","results","on","EVENT_TEST_PASS","test","push","EVENT_TEST_FAIL","EVENT_RUN_END","ignoreLeaks","bail","requireKeys","Object","keys","requireValues","map","key","Function","run","runTest","a","async","add","Pending","RUN_TESTS_DELAY","Environment","handleChange","runTests","debounce","setState","undefined","length","v","k","title","renderResults","React","from","tags","documentation","support","every","filter","find","flat","includes","reduce","some","App","href","ReactDOM","render","getElementById","webpackEmptyContext","req","Error","module","exports","id"],"mappings":"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","file":"static/js/main.d79a5696.chunk.js","sourcesContent":["import React from 'react';\n\nimport './Errors.css';\n\nexport const Errors = ({ errors }) => (\n  <p className=\"errors\" dangerouslySetInnerHTML={{ __html: errors }} />\n);\n","import React from 'react';\n\nimport { Errors } from '../Errors/Errors';\nimport './Assertion.css';\n\nexport const Assertion = (props) => {\n  const {body, state} = props;\n  if (state !== 'failed') return <span className=\"ok\">{`âœ”`}</span>;\n  return <Errors errors={body}/>;\n}\n","import React, { Component } from 'react';\nimport { highlight, languages } from 'prismjs/components/prism-core';\nimport decode from 'unescape';\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-javascript';\n\nimport './Editor.css';\n\nconst htmlStringify = html =>\n  decode(html.replace(/<br>/gm, '\\n').replace(/<\\/?[^>]*>/gm, ''));\n\nconst syntaxHighlighting = code => highlight(code, languages.javascript);\n\nexport class Editor extends Component {\n  constructor(props) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n  }\n\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  onChange() {\n    const source = htmlStringify(this.ref.innerHTML);\n    this.props.onChange(source);\n  }\n\n  onKeyDown(e) {\n    if (e.keyCode === 9) {\n      document.execCommand('insertHTML', false, '&#009');\n      e.preventDefault();\n    }\n  }\n\n  render() {\n    const { initialSource } = this.props;\n    const html = syntaxHighlighting(initialSource);\n    return (\n      <pre\n        ref={node => {\n          this.ref = node;\n        }}\n        className=\"prism-code\"\n        contentEditable={true}\n        onInput={this.onChange}\n        onKeyDown={this.onKeyDown}\n        dangerouslySetInnerHTML={{ __html: html }}\n      />\n    );\n  }\n}\n","import { mocha } from 'mocha';\nimport Runner from 'mocha/lib/runner';\nimport * as expect from 'expect';\nimport PQueue from 'p-queue';\n\nconst CONSTANTS = Runner.constants;\n\nconst REQUIRES = {\n  expect: expect\n};\n\nconst queue = new PQueue({ concurrency: 1 });\n\nconst testRunner = source => {\n  return new Promise(resolve => {\n    class Reporter {\n      constructor(runner) {\n        const results = [];\n        runner.on(CONSTANTS.EVENT_TEST_PASS, test => {\n          results.push(test);\n        });\n        runner.on(CONSTANTS.EVENT_TEST_FAIL, test => {\n          results.push(test);\n        });\n        runner.on(CONSTANTS.EVENT_RUN_END, () => {\n          resolve(results);\n        });\n      }\n    }\n    mocha.suite.suites = [];\n    mocha.setup({\n      ui: 'bdd',\n      reporter: Reporter,\n      ignoreLeaks: false,\n      bail: false\n    });\n    const requireKeys = Object.keys(REQUIRES);\n    const requireValues = requireKeys.map(key => REQUIRES[key]);\n    // eslint-disable-next-line no-new-func\n    const fn = Function(...requireKeys, source);\n    fn(...requireValues);\n    mocha.run();\n  });\n};\n\nexport const runTest = async source =>\n  await queue.add(async () => testRunner(source));\n","import React from 'react';\n\nimport './Pending.css';\n\nexport const Pending = () => <p className=\"pending\">***</p>;\n","import React from 'react';\nimport debounce from 'lodash.debounce';\n\nimport { Assertion } from '../Assertion/Assertion';\nimport { Editor } from '../Editor/Editor';\nimport { Errors } from '../Errors/Errors';\nimport { runTest } from '../../utils/testRunner';\nimport { Pending } from '../Pending/Pending';\nimport './Environment.css';\n\nconst RUN_TESTS_DELAY = 1000;\n\nexport class Environment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { results: [], source: props.source.replace(/^\\s+/g, '') };\n    this.handleChange = this.handleChange.bind(this);\n    this.runTests = debounce(this.runTests.bind(this), RUN_TESTS_DELAY);\n  }\n\n  componentDidMount() {\n    this.runTests();\n  }\n\n  handleChange(source) {\n    this.setState({ source });\n    this.runTests();\n  }\n\n  async runTests() {\n    const { source } = this.state;\n    try {\n      const results = await runTest(source);\n      this.setState({ results, errors: undefined });\n    } catch (errors) {\n      this.setState({ errors });\n    }\n  }\n\n  renderResults() {\n    const { results, errors } = this.state;\n    if (errors) {\n      return <Errors errors={errors} />;\n    }\n    if (results.length) {\n      return (\n        <ul>\n          {results.map((v, k) => {\n            return <Assertion key={k} {...v} />;\n          })}\n        </ul>\n      );\n    }\n    return <Pending />;\n  }\n\n  render() {\n    const { title } = this.props;\n    const { source } = this.state;\n    return (\n      <div className=\"environment\">\n        <h1>{title}</h1>\n        <Editor initialSource={source} onChange={this.handleChange} />\n        <div className=\"results\">{this.renderResults()}</div>\n      </div>\n    );\n  }\n}\n","export const from = {\n  title: 'Array.from',\n  tags: ['array'],\n  documentation:\n    'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from',\n  support: 'https://caniuse.com/#feat=array-find',\n  source: `\ndescribe('Array.from', () => {\n  it('creates an array', () => {\n    expect(Array.from('123')).toEqual(['1', '2', '3']);\n  });\n  it('can be passed a map function', () => {\n    expect(Array.from([1, 2, 3], x => x + x)).toEqual([2, 4, 6]);\n  });\n});`\n};\n\nexport const every = {\n  title: 'Array.every',\n  tags: ['array'],\n  documentation: '',\n  support: '',\n  source: `\ndescribe('Array.every', () => {\n  it('tests every element passes the function', () => {\n    expect([11, 12, 13].every(x => x > 10)).toEqual(true);\n  });\n});`\n};\n\nexport const filter = {\n  title: 'Array.filter',\n  tags: ['array'],\n  documentation: '',\n  support: '',\n  source: `\ndescribe('Array.filter', () => {\n  it('creates new array from elements which pass the function', () => {\n    expect([1, 2, 3, 4, 5].filter(x => x > 3)).toEqual([4, 5]);\n  });\n});`\n};\n\nexport const find = {\n  title: 'Array.find',\n  tags: ['array'],\n  documentation: '',\n  support: '',\n  source: `\ndescribe('Array.find', () => {\n  it('returns the value of first element that passes the function', () => {\n    expect([1, 2, 3, 4, 5].find(x => x > 3)).toEqual(4);\n  });\n  describe('Array.findIndex', () => {\n    it('returns the index of first element that passes the function', () => {\n      expect([1, 2, 3, 4, 5].findIndex(x => x > 3)).toEqual(3);\n    });\n  });\n});`\n};\n\nexport const flat = {\n  title: 'Array.flat',\n  tags: ['array'],\n  documentation: '',\n  support: '',\n  source: `\ndescribe('Array.flat', () => {\n  it('flattens nested arrays', () => {\n    expect([1, 2, [3]].flat()).toEqual([1, 2, 3]);\n  });\n});`\n};\n\nexport const includes = {\n  title: 'Array.includes',\n  tags: ['array'],\n  documentation: '',\n  support: '',\n  source: `\ndescribe('Array.includes', () => {\n  it('tests if an array includes a value', () => {\n    expect([1, 2, 3, 4, 5].includes(3)).toEqual(true);\n  });\n});`\n};\n\nexport const map = {\n  title: 'Array.map',\n  tags: ['array'],\n  documentation: '',\n  support: '',\n  source: `\ndescribe('Array.map', () => {\n  it('creates a new array calling the function on every element', () => {\n    expect([1, 2, 3].map(x => x + 1)).toEqual([2, 3, 4]);\n  });\n});`\n};\n\nexport const reduce = {\n  title: 'Array.reduce',\n  tags: ['array'],\n  documentation: '',\n  support: '',\n  source: `\ndescribe('Array.reduce', () => {\n  it('applies a function against the accumulator for every element and reduces to a single value', () => {\n    expect([1, 2, 3].reduce((acc, x) => acc + x, 0)).toEqual(6);\n  });\n  describe('Array.reduceRight', () => {\n    it('calls reduce calling the elements in right-to-left order', () => {\n      expect([1, 2, 3].reduce((acc, x) => acc + x, 0)).toEqual(6);\n    });\n  });\n});`\n};\n\nexport const some = {\n  title: 'Array.some',\n  tags: ['array'],\n  documentation: '',\n  support: '',\n  source: `\ndescribe('Array.some', () => {\n  it('tests at least one element passes the function', () => {\n    expect([1, 2, 3].some(x => x === 3)).toEqual(true);\n  });\n});`\n};\n","import React from 'react';\n\nimport { Environment } from './components/Environment/Environment';\nimport {\n  from,\n  every,\n  filter,\n  find,\n  flat,\n  includes,\n  map,\n  reduce,\n  some\n} from './docs/Array';\nimport './App.css';\n\nexport class App extends React.Component {\n  render() {\n    return (\n      <div className=\"wrapper\">\n        <h1 className=\"title\">cheatjs.com</h1>\n        <Environment {...from} />\n        <Environment {...every} />\n        <Environment {...filter} />\n        <Environment {...find} />\n        <Environment {...flat} />\n        <Environment {...includes} />\n        <Environment {...includes} />\n        <Environment {...map} />\n        <Environment {...reduce} />\n        <Environment {...some} />\n        <div className=\"footer\">\n          <p>\n            {'by '}\n            <a href=\"https://dunckr.com/\">dunckr</a>\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 21;"],"sourceRoot":""}